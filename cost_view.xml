<openerp>
	<data>
		<!-- Action to open Cost -->
		<act_window id="action_escandallo"
			name="Cost Analysis"
			res_model='cost.header'
			view_mode="tree,form" />

		<!-- Action to open component -->
		<act_window id="action_component"
			name="Component Analysis"
			res_model='component.header'
			view_mode="tree,form" />

		<!-- Menu time to open To-od Task list -->
		<menuitem id="menu_cost_analysis_main"
			name="Main Escandallo"
			sequence="10"/>
		<menuitem id="menu_cost_analysis_escandallo"
			name="Cost analysis "
			parent="mail.mail_feeds"
			sequence="20"
			action="action_escandallo"
			 />


		<!-- Menu itme to open component list -->
		<menuitem id="menu_cost_analysis_component"
			name="Component analysis "
			parent="mail.mail_feeds"
			sequence="20"
			action="action_component"
			 />


		<!-- Tree view -->
		<record id="view_tree_escandallo"
			model="ir.ui.view">
			<field name="name">Cost analysis tree</field>
			<field name="model">cost.header</field>
			<field name="arch" type="xml">
				<tree color="gray:is_done==True">
					<field name="name"/>
				</tree>
			</field>
		</record>

		<!-- Form view -->
		<record id="view_form_escandallo"
			model="ir.ui.view">
			<field name="name">Escandallo Form</field>
			<field name="model">cost.header</field>
			<field name="arch" type="xml">
				<form>
					<sheet>
						<div clas="oe_title">
							<label for="name" class="oe_edit_only"/>
							<h1><field name="name"/></h1>
						</div>
						<group name="group_top">
							<group name="group_left">
								<field name="material_cost"/>
							</group>
						</group>
						<field name="cost_ids" nolabel="1" widget="one2many_list">
							<tree string="Cost lines" editable="bottom">
								<field name="product_id" />
								<field name="unidades" />
								<field name="qty_ldm" />
								<field name="price_unit" />
								<button name="open_component" type="object" icon="gtk-go-forward" context="{'material_id':product_id}" class="oe_edit_only"></button>
								<field name="discount" />
								<field name="price_unit_net" />
								<field name="price_total" sum="Total Cost" />
							</tree>
						</field>
					</sheet>
				</form>
			</field>
		</record>

		<!-- Component Views -->


		<!-- Tree view -->
		<record id="view_tree_component"
			model="ir.ui.view">
			<field name="name">Cost analysis tree</field>
			<field name="model">component.header</field>
			<field name="arch" type="xml">
				<tree color="gray:is_done==True">
					<field name="name"/>
				</tree>
			</field>
		</record>

		<!-- Form view -->
		<record id="view_form_component"
			model="ir.ui.view">
			<field name="name">Component Form</field>
			<field name="model">component.header</field>
			<field name="arch" type="xml">
				<form>
					<field name="name"/>
					<field name="cost_ids" nolabel="1" widget="one2many_list">
						<tree string="Cost lines" editable="bottom">
							<field name="product_id" />
							<field name="unidades" />
							<field name="qty_ldm" />
							<field name="price_unit" />
							<field name="price_total" sum="Total Cost" />

						</tree>
					</field>
					<footer>
                        <button name="save_component" type="object"
                                string="Guardar" class="oe_highlight"/>
                        <button special="cancel" string="Cancelar"/>
                    </footer>
				</form>
			</field>
		</record>


	</data>
</openerp>